<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Product Detail</title>
    <meta name="description" content="Upgrade your style with trendy finds. Discover your perfect fashion pieces on our Shopping App.">
</head>

<body>
    <header class="header">
        <div class="container">
            <div class="navbar">
                <div class="logo">
                    <a href="index.html">
                        <h2>Shopping App</h2>
                    </a>
                </div>
                <nav>
                    <ul id="MenuItems">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="product.html">Products</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="account.html">Account</a></li>
                    </ul>
                </nav>
                <img src="images/mi.png" class="menu-icon" onclick="menutoggle()" alt="Menu Icon">
            </div>
        </div>
    </header>

    <main>
        <div class="small-container single-product">
            <div class="row">
                <div class="col-2">
                    <img src="images/p1.jpg" width="100%" id="ProductImg" alt="Product Image">
                    <div class="small-img-row">
                        <div class="small-img-col">
                            <img src="images/p1.jpg" width="100%" class="small-img" alt="Product Thumbnail 1">
                        </div>
                        <div class="small-img-col">
                            <img src="images/p1_1.jpg" width="100%" class="small-img" alt="Product Thumbnail 2">
                        </div>
                        <div class="small-img-col">
                            <img src="images/p1_2.jpg" width="100%" class="small-img" alt="Product Thumbnail 3">
                        </div>
                        <div class="small-img-col">
                            <img src="images/p1_3.jpg" width="100%" class="small-img" alt="Product Thumbnail 4">
                        </div>
                    </div>
                </div>
                <div class="col-2">
                    <p id="product-category">Home / Mobile</p>
                    <h1 id="product-title">Samsung Galaxy M35 5G</h1>
                    <h4 id="product-price">₹19,999</h4>
                    <select id="product-color">
                        <option>Select</option>
                    </select>
                    <input type="number" id="product-quantity" value="1" min="1">
                    <a class="btn" onclick="buyProduct()">Buy</a>
                    <h3>Product Details</h3>
                    <p id="product-description">Product description goes here.</p>
                </div>
            </div>
        </div>

        <div class="small-container">
            <div class="row row-2">
                <h2>Related Products</h2>
                <!--<p>View more</p>-->
            </div>
        </div>

        <div class="small-container">
            <div class="row">
                <div class="col-4">
                    <a href="product-detail.html?product=p1">
                        <img src="images/p1.jpg" alt="Samsung Galaxy M35 5G">
                    </a>
                    <h4>Samsung Galaxy M35 5G</h4>
                    <div class="rating">
                        <p>⭐⭐⭐⭐</p>
                    </div>
                    <p>₹19,999</p>
                </div>
                <div class="col-4">
                    <a href="product-detail.html?product=p2">
                        <img src="images/p2.jpg" alt="Boat Rockerz 245 v2 Pro">
                    </a>
                    <h4>Boat Rockerz 245 v2 Pro</h4>
                    <div class="rating">
                        <p>⭐⭐⭐</p>
                    </div>
                    <p>₹1,099</p>
                </div>
                <div class="col-4">
                    <a href="product-detail.html?product=p3">
                        <img src="images/p3.webp" alt="Sony Alpha ZV-E10L 24.2">
                    </a>
                    <h4>Sony Alpha ZV-E10L 24.2</h4>
                    <div class="rating">
                        <p>⭐⭐⭐⭐</p>
                    </div>
                    <p>₹61,489</p>
                </div>
                <div class="col-4">
                    <a href="product-detail.html?product=p4">
                        <img src="images/p4.jpg" alt="OnePlus Pad 2 (12.1 Inch) LCD Display">
                    </a>
                    <h4>OnePlus Pad 2 (12.1 Inch) LCD Display</h4>
                    <div class="rating">
                        <p>⭐⭐⭐⭐⭐</p>
                    </div>
                    <p>₹42,999</p>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="footer-col-1">
                    <h3>Download Our App</h3>
                    <p>Download App for Android and iOS mobile phones.</p>
                    <div class="app-logo">
                        <img src="images/gp.png" alt="Google Play Store">
                        <img src="images/ap.png" alt="Apple App Store">
                    </div>
                </div>
                <div class="footer-col-2">
                    <h3>Useful Links</h3>
                    <ul>
                        <li>Coupons</li>
                        <li>Blog Post</li>
                        <li>Return Policy</li>
                        <li>Join Affiliate</li>
                    </ul>
                </div>
                <div class="footer-col-3">
                    <h3>Follow Us</h3>
                    <ul>
                        <li>Facebook</li>
                        <li>Twitter</li>
                        <li>Instagram</li>
                        <li>YouTube</li>
                    </ul>
                </div>
            </div>
            <hr>
            <p class="copyright">© 2024 Shopping App. All rights reserved.</p>
        </div>
    </footer>

    <script>
        var MenuItems = document.getElementById("MenuItems");

        function menutoggle() {
            if (MenuItems.style.maxHeight === "0px" || MenuItems.style.maxHeight === "") {
                MenuItems.style.maxHeight = "200px";
            } else {
                MenuItems.style.maxHeight = "0px";
            }
        }
    </script>

    <script>
        function buyProduct() {
            const productTitle = document.getElementById('product-title').innerText;
            const productPrice = document.getElementById('product-price').innerText.replace('₹', '');
            const productColor = document.getElementById('product-color').value;
            const productQuantity = document.getElementById('product-quantity').value;

            const loggedIn = localStorage.getItem('loggedin') === 'true';  
            const username = localStorage.getItem('username'); 

            if (loggedIn && username) {
                const formData = new FormData();
                formData.append('product_name', productTitle);
                formData.append('product_price', productPrice);
                formData.append('product_color', productColor);
                formData.append('product_quantity', productQuantity);
                formData.append('username', username);

                fetch('save_order.php', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.text())
                .then(data => {
                    alert(data); 
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred while placing the order.');
                });
            } else {
                alert('Please log in to place an order.');
            }
        }
    </script>
    <script>
        var ProductImg = document.getElementById("ProductImg");
        var SmallImgs = document.getElementsByClassName("small-img");

        for (let i = 0; i < SmallImgs.length; i++) {
            SmallImgs[i].addEventListener('click', function() {
                ProductImg.src = SmallImgs[i].src;
            });
        }
    </script>

    <script src="product-detail.js"></script>
</body>

</html>
